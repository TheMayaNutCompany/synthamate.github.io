<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>Store | The MayaNut Company</title>

  <!-- SEO -->
  <meta name="description" content="MayaNut Store (concept preview): MayaNut (maya nut) powder, pods, merch, seeds and seedlings from Brosimum alicastrum by The MayaNut Company in South Florida." />
  <meta name="keywords" content="The MayaNut Company,MayaNut,maya nut,Brosimum alicastrum,MayaNut store,MayaNut powder,MayaNut pods,Instant MayaNut pods,MayaNut merch,MayaNut seeds,MayaNut seedlings,South Florida farm" />
  <link rel="canonical" href="https://mayanut.com/store.html" />
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" />

  <link rel="icon" type="image/png" href="mayanut-the-mayanut-comapny-logo.png" />
  <link rel="apple-touch-icon" href="mayanut-the-mayanut-comapny-logo.png" />
  <meta name="theme-color" content="#066100" />
  <meta name="format-detection" content="telephone=no" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Asul:wght@400;700&family=Acme&display=swap" rel="stylesheet" />

  <!-- Preload -->
  <link rel="preload" as="image" href="menuart-the-maya-nut-company-art.jpeg" />
  <link rel="preload" as="image" href="mayanut-the-mayanut-comapny-logo.png" />
  <link rel="preload" as="image" href="mayanuts-the-maya-nut-company-image.jpeg" />

  <style>
    :root{
      --solidGreen:#066100;     /* single flat green */
      --greenDeep:#0b3b17;

      --orange:#fd6c02;         /* solid orange */
      --lime:#d8ff6a;

      --pale:#e9ffd6;

      --page-bg:#ffffff;
      --shadow: 0 18px 55px rgba(15,23,42,0.18);
      --thin-outline: 1px solid rgba(12,90,42,0.45);

      --font-header: "Asul", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      --font-body: "Acme", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;

      --stickyOffset: 170px; /* set via JS */
      --filterGap: 10px;

      --navH: 152px;

      --cardImgH: 206px;
      --cardMinH: 382px;

      --catTabW: 56px;
    }

    *{ box-sizing:border-box; margin:0; padding:0; }
    html,body{ height:100%; }
    html{
      background: var(--page-bg);
      overflow-x:hidden;
      scroll-padding-top: calc(var(--stickyOffset) + var(--filterGap) + 12px);
      text-rendering: geometricPrecision;
      -webkit-text-size-adjust: 100%;
    }
    body{
      font-family: var(--font-body);
      background: var(--page-bg);
      color:#0f172a;
      -webkit-font-smoothing: antialiased;
      overflow-x:hidden;
      overscroll-behavior-y:none;
    }
    img{ max-width:100%; height:auto; display:block; }
    a{ color:inherit; text-decoration:none; }
    button,input,select{ font-family:inherit; }

    .frame-wrap{ position:relative; width:100%; min-height:100vh; padding-top: var(--stickyOffset); overflow-x: clip; }

    /* Thin banners */
    .thin-banner{
      width:100%;
      height:18px;
      background: var(--solidGreen);
      border-bottom: 1px solid rgba(255,255,255,0.18);
    }
    .thin-banner.bottom{
      border-top: 1px solid rgba(255,255,255,0.18);
      border-bottom:none;
    }

    /* Sticky header */
    .sticky-top{
      position:fixed; top:0; left:0; right:0;
      z-index:999;
      background: var(--solidGreen);
      box-shadow:0 10px 28px rgba(15,23,42,0.12);
      overflow:hidden;
      transform: translateZ(0);
    }

    .site-header{
      width:100%;
      background-image:url("menuart-the-maya-nut-company-art.jpeg");
      background-size:cover;
      background-position:center center;
      background-repeat:no-repeat;
      padding: 28px 0 26px;
      display:flex; align-items:center; justify-content:center;
      position:relative; min-height: var(--navH);
    }
    .site-header::after{
      content:""; position:absolute; inset:0;
      background: linear-gradient(to bottom, rgba(255,255,255,0.06), rgba(255,255,255,0.0) 58%);
      pointer-events:none;
    }

    /* Center brand (ASUL) */
    .brand-group{
      position:absolute;
      left:50%;
      top:54%;
      transform: translate(-54%, -50%);
      display:flex;
      align-items:center;
      gap:10px;
      z-index:2;
      pointer-events:none;
      user-select:none;
      white-space:nowrap;
    }
    .brand-logo{
      width:78px;
      height:78px;
      object-fit:contain;
      filter: drop-shadow(0 14px 30px rgba(15,23,42,0.22));
    }
    .brand-text{
      font-family: var(--font-header);
      font-weight:700;
      letter-spacing:.01em;
      font-size:34px;
      color: var(--lime);
      -webkit-text-stroke: 0.9px rgba(11,59,23,0.95);
      text-shadow:0 14px 34px rgba(15,23,42,0.20);
    }

    /* Email left, Español right (ACME, CAPS) */
    .main-nav{
      position:absolute;
      left:0; right:0;
      top:54%;
      transform: translateY(-50%);
      height:56px;
      z-index:3;
      pointer-events:none;
    }
    .nav-left,.nav-right{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      display:flex;
      align-items:center;
      gap:10px;
      pointer-events:auto;
      white-space:nowrap;
    }
    .nav-left{ left:12px; }
    .nav-right{ right:12px; }

    .email-top{
      width:40px; height:40px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.55);
      background: rgba(255,255,255,0.10);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 10px 22px rgba(15,23,42,0.12);
    }
    .email-top svg{
      width:20px; height:20px;
      stroke: var(--solidGreen); /* requested green */
      fill:none;
      stroke-width:2.2;
      stroke-linecap:round;
      stroke-linejoin:round;
      filter: drop-shadow(0 2px 8px rgba(0,0,0,0.18));
    }
    .lang-pill{
      height:40px; padding:0 14px; border-radius:14px;
      border:1px solid rgba(255,255,255,0.55);
      background: rgba(255,255,255,0.10);
      color: var(--solidGreen); /* requested green */
      font-family: var(--font-body);
      font-weight:900;
      letter-spacing:0.12em;
      text-transform:uppercase;
      font-size:12px;
      box-shadow:0 10px 22px rgba(15,23,42,0.12);
      display:inline-flex; align-items:center; justify-content:center;
      white-space:nowrap;
      text-shadow: 0 2px 10px rgba(0,0,0,0.12);
    }

    /* Menu links (ASUL) - 5% smaller already */
    .menu-row{
      position:absolute;
      left:50%;
      top: calc(54% + 44px);
      transform: translate(-50%, -50%);
      z-index:3;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:18px;
      pointer-events:auto;
      user-select:none;
      white-space:nowrap;
    }
    .menu-row a{
      font-family: var(--font-header);
      font-weight:700;
      font-size:19px;
      letter-spacing:.01em;
      color:#ffffff;
      -webkit-text-stroke: 0.7px rgba(11,59,23,0.95);
      text-shadow:0 10px 22px rgba(15,23,42,0.18);
      padding:2px 4px;
      line-height:1;
    }
    .menu-row a.is-active{ color: var(--orange); } /* no underline */

    main{
      background: #ffffff;
      min-height: calc(100vh - var(--stickyOffset));
      overflow: visible;
      font-family: var(--font-body);
    }
    .content-wrapper{ padding:12px 10px 22px; max-width:1400px; margin:0 auto; }

    .store-layout{
      display:grid;
      grid-template-columns: 222px 1fr;
      gap:10px;
      align-items:start;
      margin-left:-4px;
    }

    .filter-outline, .oframe{
      border-radius:18px;
      background: transparent;
      padding:0;
      box-shadow:0 14px 40px rgba(15,23,42,0.06);
      border: var(--thin-outline);
      overflow:hidden;
    }

    /* FILTER (ACME, CAPS for headers) */
    .left-shell{
      position: sticky;
      top: calc(var(--stickyOffset) + var(--filterGap));
      width:100%;
    }
    .left-head{
      background: var(--solidGreen);
      padding:10px 12px;
      font-family: var(--font-body);
      font-weight:900;
      letter-spacing:.14em;
      text-transform:uppercase;
      font-size:12px;
      color:#ffffff;
      border-bottom: var(--thin-outline);
      min-height:46px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .left-body{
      padding:12px;
      display:flex;
      flex-direction:column;
      gap:10px;
      background: rgba(255,255,255,0.35);
    }
    .filter-group{
      border-radius:12px;
      background: var(--pale);
      padding:10px;
      border: var(--thin-outline);
    }
    .filter-title{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:8px;
    }
    .filter-title .ftag{
      display:inline-flex;
      align-items:center;
      background: rgba(0,0,0,0.06);
      color:#0b1220;
      border-radius:10px;
      padding:6px 10px;
      border: var(--thin-outline);
      font-family: var(--font-body);
      font-weight:900;
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size:10px;
    }
    .filter-item{
      display:flex;
      align-items:center;
      gap:10px;
      padding:6px 0;
      font-family: var(--font-body);
      font-weight:800;
      font-size:12px;
      color:#0b1220;
      letter-spacing:.01em;
    }
    .filter-item input{ accent-color: var(--solidGreen); }

    /* STORE HEADER */
    .grid-wrap{
      background: rgba(11,59,23,0.08);
      display:flex;
      flex-direction:column;
      border-radius:18px;
      overflow:hidden;
    }
    .grid-head{
      background: var(--solidGreen);
      padding:10px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      border-bottom: var(--thin-outline);
      min-height:46px;
      overflow: visible;
    }
    .grid-tools{
      display:flex;
      align-items:center;
      justify-content:flex-start;
      gap:10px;
      width:100%;
      min-width:0;
      font-family: var(--font-body);
    }

    .store-search{
      height:36px;
      border-radius:14px;
      border: var(--thin-outline);
      background:#fff;
      display:flex;
      align-items:center;
      overflow:hidden;
      flex:0 0 460px;
      width:460px;
      max-width:460px;
      min-width:300px;
      box-shadow:0 10px 18px rgba(15,23,42,0.06);
    }
    .store-search .mag{
      width:36px; height:36px;
      display:flex; align-items:center; justify-content:center;
      flex:0 0 36px;
      user-select:none;
    }
    .store-search .mag svg{
      width:16px; height:16px;
      stroke: var(--orange);
      fill:none;
      stroke-width:2.2;
      stroke-linecap:round;
      stroke-linejoin:round;
    }
    .store-search input{
      border:none; outline:none; background:transparent;
      color:#0b1220;
      font-family: var(--font-body);
      font-weight:800;
      letter-spacing:.01em;
      font-size:12px;
      padding:0 10px 0 2px;
      width:100%;
      min-width:0;
      caret-color: var(--orange);
    }
    .store-search .xbtn{
      width:34px; height:36px;
      display:flex; align-items:center; justify-content:center;
      flex:0 0 34px;
      cursor:pointer;
      user-select:none;
      background:transparent;
    }
    .store-search .xbtn svg{
      width:16px; height:16px;
      stroke: rgba(15,23,42,0.65);
      fill:none;
      stroke-width:2.2;
      stroke-linecap:round;
      stroke-linejoin:round;
    }

    .head-divider{
      height:2px;
      background: rgba(255,255,255,0.55);
      flex:1 1 auto;
      border-radius:999px;
      opacity:.55;
      min-width:24px;
    }

    .checkout-fused{
      height:36px;
      border-radius:14px;
      padding:0 10px;
      border: 1px solid rgba(255,255,255,0.55);
      background: var(--orange);
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      cursor:pointer;
      box-shadow:0 10px 18px rgba(15,23,42,0.10);
      user-select:none;
      min-width:132px;
      position:relative;
      flex:0 0 auto;
      font-family: var(--font-body);
    }
    .checkout-fused svg{
      width:18px; height:18px;
      stroke:#ffffff; fill:none;
      stroke-width:2.2;
      stroke-linecap:round; stroke-linejoin:round;
    }
    .checkout-fused .txt{
      font-family: var(--font-body);
      font-weight:900;
      letter-spacing:.14em;
      text-transform:uppercase;
      font-size:10px;
      color:#ffffff;
      white-space:nowrap;
    }
    .cart-wrap{ position:relative; display:flex; align-items:center; justify-content:center; }
    .cart-badge{
      position:absolute;
      top:-7px;
      right:-8px;
      min-width:16px;
      height:16px;
      padding:0 5px;
      border-radius:999px;
      background: var(--orange);
      border:1px solid rgba(255,255,255,0.65);
      color:#ffffff;
      font-family: var(--font-body);
      font-weight:900;
      font-size:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      line-height:1;
      pointer-events:none;
    }

    /* BODY */
    .grid-body{ padding:0; }
    .store-body-wrap{
      display:flex;
      align-items:stretch;
      gap:0;
      position:relative;
    }

    /* LEFT TAB (solid green, body font) */
    .cat-tab{
      width: var(--catTabW);
      flex:0 0 var(--catTabW);
      background: var(--solidGreen);
      border-right: var(--thin-outline);
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      padding-top: 46px;
      margin-top: -46px;
      border-top-left-radius:18px;
      border-bottom-left-radius:18px;
      overflow:hidden;
    }
    .cat-btn{
      border:none;
      background:transparent;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      flex:1 1 0;
      padding:10px 0;
      font-family: var(--font-body);
    }
    .cat-btn:hover{ background: rgba(255,255,255,0.06); }
    .cat-btn.is-active{ background: rgba(255,255,255,0.10); }
    .cat-text{
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:4px;
      font-weight:1000;
      text-transform:uppercase;
      letter-spacing:0.05em;
      color: var(--orange);
      -webkit-text-stroke: 1px rgba(11,59,23,0.95);
      text-shadow: 0 2px 10px rgba(15,23,42,0.15);
      line-height:1;
      font-size:28px;
      width:100%;
    }

    .store-content{
      flex:1 1 auto;
      min-width:0;
      display:flex;
      flex-direction:column;
      gap:10px;
      padding:10px 12px 12px;
    }

    .section-block{
      border-radius:18px;
      background: rgba(255,255,255,0.42);
      border: var(--thin-outline);
      padding:8px;
      box-shadow:0 10px 22px rgba(15,23,42,0.05);
    }
    .product-grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:10px;
    }
    .product-shell{
      border-radius:18px;
      background: rgba(255,255,255,0.62);
      box-shadow:0 10px 22px rgba(15,23,42,0.05);
      min-height: var(--cardMinH);
      border: var(--thin-outline);
      overflow:hidden;
      display:flex;
      font-family: var(--font-body);
    }
    .product-inner{ flex:1; display:flex; flex-direction:column; }

    /* Product title: keep Slackey as before (user did not ask to change here) */
    .prod-head{
      background: linear-gradient(90deg, var(--greenDeep) 0%, var(--pale) 70%, var(--pale) 100%);
      padding:9px 10px;
      display:flex;
      align-items:center;
      gap:10px;
      border-bottom: var(--thin-outline);
      min-height:46px;
    }
    .prod-title{
      font-family:"Slackey", system-ui, sans-serif;
      font-weight:400;
      font-size:16px;
      letter-spacing:.01em;
      color:#ffffff;
      -webkit-text-stroke: 0.8px rgba(11,59,23,0.92);
      text-shadow:0 10px 22px rgba(15,23,42,0.20);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:100%;
      line-height:1.05;
    }

    .pimg{ background:#fff; border-bottom: var(--thin-outline); }
    .pimg img{ width:100%; height:var(--cardImgH); object-fit:cover; display:block; cursor:pointer; }

    .pbot{
      padding:10px;
      flex:1 1 auto;
      display:flex;
      background: var(--pale);
    }

    /* Bring price+selector same level closer to bottom buttons */
    .click-inner{
      width:100%;
      display:grid;
      grid-template-columns: 1fr 1fr;
      grid-auto-rows: min-content;
      column-gap:10px;
      row-gap:6px;
      align-content:end;
      min-height: 128px;
      font-family: var(--font-body);
    }

    .row1{
      grid-column: 1 / -1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .price-inline{
      height:22px;
      display:flex;
      align-items:center;
      justify-content:flex-start;
      color:#0b1220;
      font-family: var(--font-body);
      font-weight:900;
      font-size:13px;
      letter-spacing:.02em;
      white-space:nowrap;
    }

    .variant-box{
      height:30px;
      border: var(--thin-outline);
      background: rgba(255,255,255,0.70);
      border-radius:14px;
      padding:0 10px;
      display:flex;
      align-items:center;
      gap:10px;
      cursor:pointer;
      user-select:none;
      min-width: 170px;
      max-width: 240px;
      justify-content:space-between;
      flex:0 0 auto;
      font-family: var(--font-body);
      text-transform:uppercase;
    }
    .variant-left{
      font-weight:900;
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size:10px;
      color:#0b1220;
      white-space:nowrap;
    }
    .variant-value{
      font-weight:900;
      font-size:12px;
      color:#0b1220;
      white-space:nowrap;
    }
    .variant-right{ display:flex; align-items:center; gap:8px; white-space:nowrap; }
    .variant-caret{
      width:14px; height:14px;
      stroke:#0b1220; fill:none;
      stroke-width:2.2;
      stroke-linecap:round;
      stroke-linejoin:round;
      opacity:.9;
    }

    .row2{
      grid-column: 1 / -1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-top:2px;
    }

    .addq{
      height:34px;
      flex:1 1 auto;
      border-radius:14px;
      border: var(--thin-outline);
      background: var(--orange);
      color:#ffffff;
      font-family: var(--font-body);
      font-weight:900;
      letter-spacing:.14em;
      text-transform:uppercase;
      font-size:10px;
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      box-shadow:0 10px 18px rgba(15,23,42,0.08);
      white-space:nowrap;
    }

    .qty-unified{
      height:34px;
      flex:0 0 170px;
      border-radius:14px;
      border: var(--thin-outline);
      background: rgba(255,255,255,0.65);
      display:flex;
      align-items:stretch;
      overflow:hidden;
      box-shadow:0 10px 18px rgba(15,23,42,0.08);
      font-family: var(--font-body);
    }
    .qty-btn{
      width:40px;
      border:none;
      background: var(--solidGreen);
      color:#ffffff;
      font-family: var(--font-body);
      font-weight:900;
      font-size:14px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      user-select:none;
      line-height:1;
      flex:0 0 40px;
    }
    .qty-mid{
      flex:1 1 auto;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(180deg, rgba(42,139,47,0.95), rgba(6,97,0,0.95));
      border-left:1px solid rgba(255,255,255,0.25);
      border-right:1px solid rgba(255,255,255,0.25);
    }
    .qty-number{
      width:100%;
      border:none;
      outline:none;
      background:transparent;
      color:#ffffff;
      font-family: var(--font-body);
      font-weight:900;
      font-size:12px;
      text-align:center;
      -moz-appearance:textfield;
    }
    .qty-number::-webkit-outer-spin-button,
    .qty-number::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }

    .tagline{
      grid-column: 1 / -1;
      font-family: var(--font-body);
      font-weight:800;
      font-size:12px;
      color: rgba(15,23,42,0.60);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      margin-top:2px;
    }

    /* Variant menu */
    .variant-menu{
      position:absolute;
      z-index:2000;
      min-width: 190px;
      border: var(--thin-outline);
      background: rgba(255,255,255,0.98);
      box-shadow: 0 18px 55px rgba(15,23,42,0.18);
      padding:6px;
      border-radius:12px;
      font-family: var(--font-body);
      text-transform:uppercase;
    }
    .variant-menu .opt{
      border-radius:10px;
      padding:8px 10px;
      cursor:pointer;
      font-weight:900;
      font-size:12px;
      color:#0b1220;
      background: rgba(233,255,214,0.95);
      border: var(--thin-outline);
      margin-bottom:6px;
    }
    .variant-menu .opt:last-child{ margin-bottom:0; }
    .variant-menu .opt.is-active{
      outline: 2px solid rgba(253,108,2,0.55);
      outline-offset: -2px;
    }

    /* MODAL */
    .overlay{
      position:fixed; inset:0; display:none;
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(6px);
      z-index:3000;
      padding:18px;
      font-family: var(--font-body);
    }
    body.modal-open .overlay{ display:block; }
    .modal{
      max-width: 880px;
      margin: 40px auto;
      border-radius:18px;
      background: rgba(255,255,255,0.98);
      border: var(--thin-outline);
      box-shadow:0 18px 60px rgba(15,23,42,0.35);
      overflow:hidden;
    }
    .modal-head{
      background: var(--solidGreen);
      padding:12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .modal-title{
      color:#ffffff;
      font-family: var(--font-body);
      font-weight:900;
      letter-spacing:.14em;
      text-transform:uppercase;
      font-size:12px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .modal-close{
      width:40px; height:40px;
      border-radius:14px;
      border: 1px solid rgba(255,255,255,0.55);
      background: var(--orange);
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .modal-close svg{
      width:18px; height:18px;
      stroke:#ffffff; fill:none;
      stroke-width:2.4;
      stroke-linecap:round; stroke-linejoin:round;
    }
    .modal-body{
      padding:14px;
      display:grid;
      grid-template-columns: 1.2fr 1fr;
      gap:14px;
    }
    .modal-body img{
      width:100%;
      height:320px;
      object-fit:cover;
      border-radius:16px;
      border: var(--thin-outline);
      background:#fff;
    }
    .modal-copy{
      border-radius:16px;
      border: var(--thin-outline);
      background: var(--pale);
      padding:12px;
      font-family: var(--font-body);
      font-weight:800;
      line-height:1.7;
      color:#0b1220;
      white-space:pre-line;
    }

    /* Footer left as-is */
    footer{
      margin-top:10px;
      color:#ffffff;
      background-color: var(--greenDeep);
      background-image: url("mayanuts-the-maya-nut-company-image.jpeg");
      background-repeat: repeat-x;
      background-size: auto 100%;
      background-position: center center;
      border-top: 0;
      font-family: var(--font-body);
    }
    .footer-wrap{
      max-width:1200px;
      margin:0 auto;
      padding: 18px 22px 18px;
      display:grid;
      grid-template-columns: 1.2fr 1fr;
      gap:16px;
      align-items:stretch;
    }
    .footer-left{ display:flex; align-items:flex-start; gap:16px; }
    .footer-logo{ width:116px; height:auto; filter: drop-shadow(0 10px 18px rgba(0,0,0,0.35)); }
    .footer-text{ display:flex; flex-direction:column; gap:10px; }
    .based-line, .copyright-line{
      font-family: var(--font-pretty);
      font-style: italic;
      font-weight: 900;
      font-size:14px;
      letter-spacing:0.04em;
      color:#ffffff;
      text-shadow:0 2px 14px rgba(0,0,0,0.40);
      white-space:nowrap;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .florida-icon{ width:26px; height:26px; filter: drop-shadow(0 2px 12px rgba(0,0,0,0.35)); }
    .footer-links{ display:flex; gap:16px; flex-wrap:wrap; }
    .footer-links a{
      font-family: var(--font-pretty);
      font-style: italic;
      font-weight: 900;
      font-size:14px;
      letter-spacing:0.04em;
      color:#ffffff;
      border-bottom:1px solid rgba(255,255,255,0.40);
      padding-bottom:2px;
      white-space:nowrap;
      text-shadow:0 2px 14px rgba(0,0,0,0.40);
    }
    .newsletter{ display:flex; flex-direction:column; gap:8px; align-items:flex-start; }
    .nl-title{
      font-family: var(--font-body);
      font-weight:900;
      letter-spacing:0.12em;
      text-transform:uppercase;
      font-size:12px;
      color:#ffffff;
      text-shadow:0 2px 14px rgba(0,0,0,0.40);
    }
    .nl-sub{
      font-family: var(--font-pretty);
      font-style: italic;
      font-weight:850;
      font-size:13px;
      line-height:1.45;
      color:#ffffff;
      text-shadow:0 2px 14px rgba(0,0,0,0.40);
      max-width:520px;
    }
    .newsletter-form{ display:flex; gap:10px; align-items:center; width:100%; max-width:520px; }
    .newsletter-form input{
      flex:1; min-width: 180px; height:40px;
      border-radius:14px; border: 1px solid rgba(255,255,255,0.55);
      background: rgba(255,255,255,0.92);
      padding: 0 12px; font-weight:900; font-size:12px;
      outline:none; color:#111827;
      font-family: var(--font-body);
    }
    .metal-btn{
      border: 1px solid rgba(255,255,255,0.55);
      background: var(--orange);
      color: #ffffff;
      border-radius:14px;
      padding:10px 14px;
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:0.10em;
      cursor:pointer;
      font-weight:950;
      min-height:40px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      white-space:nowrap;
      box-shadow:0 14px 36px rgba(0,0,0,0.20);
      font-family: var(--font-body);
    }
    .footer-icons{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; margin-top:10px; }
    .icon-pill{
      width:36px; height:36px;
      border-radius:14px;
      border: 1px solid rgba(255,255,255,0.55);
      background: var(--orange);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      box-shadow:0 12px 28px rgba(0,0,0,0.20);
    }
    .icon-pill svg{
      width:20px; height:20px;
      stroke:#ffffff;
      fill:none;
      stroke-width:2;
      stroke-linecap:round;
      stroke-linejoin:round;
    }
    .icon-pill .fill{ fill:#ffffff; stroke:none; }

    @media(max-width:1100px){
      .product-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media(max-width:980px){
      .store-layout{ grid-template-columns: 1fr; margin-left:0; }
      .filter-col{ display:none; }
      .cat-tab{ display:none; }
      .store-content{ padding-left:12px; }
      .store-search{ max-width: 92vw; width: min(460px, 92vw); min-width: 240px; flex: 1 1 auto; }
      .footer-wrap{ grid-template-columns:1fr; }
      .newsletter-form{ flex-direction:column; align-items:stretch; }
      .newsletter-form input{ width:100%; min-width:0; }
      .brand-text{ font-size:30px; }
      .brand-logo{ width:66px; height:66px; }
      .menu-row a{ font-size:18px; }
      .row1{ flex-direction:column; align-items:flex-start; }
      .variant-box{ align-self:flex-start; }
      .row2{ flex-direction:column; align-items:stretch; }
      .qty-unified{ flex:1 1 auto; width:100%; }
    }
  </style>
</head>

<body>
  <div class="frame-wrap">
    <div class="sticky-top" id="sticky-top">
      <div class="thin-banner"></div>

      <header class="site-header" aria-label="Site header">
        <div class="brand-group" aria-hidden="true">
          <img class="brand-logo" src="mayanut-the-mayanut-comapny-logo.png" alt="" />
          <div class="brand-text">The MayaNut Company</div>
        </div>

        <nav class="main-nav" aria-label="Top controls">
          <div class="nav-left">
            <a class="email-top" href="mailto:info@mayanut.com" aria-label="Email">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4.5 6.5h15v11h-15z"></path>
                <path d="M4.5 7l7.5 6 7.5-6"></path>
              </svg>
            </a>
          </div>

          <div class="nav-right">
            <a class="lang-pill" href="store-es.html" aria-label="Switch to Español">ESPAÑOL</a>
          </div>
        </nav>

        <div class="menu-row" aria-label="Primary navigation">
          <a href="index.html">HOME</a>
          <a class="is-active" href="store.html" aria-current="page">STORE</a>
          <a href="about.html">ABOUT</a>
          <a href="research.html">RESEARCH</a>
        </div>
      </header>
    </div>

    <main id="main-content" tabindex="-1" aria-label="Store">
      <div class="content-wrapper">
        <div class="store-layout">

          <!-- FILTER -->
          <div class="filter-col" aria-label="Filter column">
            <div class="filter-outline">
              <div class="left-shell" aria-label="Filter sticky">
                <aside aria-label="Filter">
                  <div class="left-head">FILTER</div>

                  <div class="left-body">
                    <div class="filter-group" aria-label="Category filter">
                      <div class="filter-title"><span class="ftag">CATEGORY</span></div>
                      <label class="filter-item"><input type="radio" name="catmode" value="all" checked> All</label>
                      <label class="filter-item"><input type="radio" name="catmode" value="powder"> Powder</label>
                      <label class="filter-item"><input type="radio" name="catmode" value="merch"> Merch</label>
                      <label class="filter-item"><input type="radio" name="catmode" value="plants"> Plants</label>
                    </div>

                    <div class="filter-group" aria-label="Sort options">
                      <div class="filter-title"><span class="ftag">SORT</span></div>
                      <label class="filter-item"><input type="radio" name="sortmode" value="newest" checked> Newest</label>
                      <label class="filter-item"><input type="radio" name="sortmode" value="az"> A → Z</label>
                      <label class="filter-item"><input type="radio" name="sortmode" value="za"> Z → A</label>
                      <label class="filter-item"><input type="radio" name="sortmode" value="price_low"> Price (Low)</label>
                      <label class="filter-item"><input type="radio" name="sortmode" value="price_high"> Price (High)</label>

                      <div style="height:8px" aria-hidden="true"></div>
                      <label class="filter-item"><input type="checkbox" id="in-stock-only"> In Stock</label>
                    </div>
                  </div>
                </aside>
              </div>
            </div>
          </div>

          <!-- STORE -->
          <section class="oframe" aria-label="Store listings">
            <div class="grid-wrap">
              <div class="grid-head">
                <div class="grid-tools">
                  <div class="store-search" aria-label="Search products">
                    <div class="mag" aria-hidden="true">
                      <svg viewBox="0 0 24 24" aria-hidden="true">
                        <circle cx="11" cy="11" r="6.5"></circle>
                        <path d="M16.2 16.2L21 21"></path>
                      </svg>
                    </div>
                    <input id="store-search" type="text" placeholder="Search MayaNut Store..." autocomplete="off" />
                    <div class="xbtn" id="store-search-clear" aria-label="Clear search" role="button" tabindex="0">
                      <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M6 6l12 12"></path>
                        <path d="M18 6L6 18"></path>
                      </svg>
                    </div>
                  </div>

                  <div class="head-divider" aria-hidden="true"></div>

                  <button class="checkout-fused" id="checkout-top" type="button" aria-label="Checkout">
                    <span class="cart-wrap" aria-hidden="true">
                      <span class="cart-badge" id="cart-badge">0</span>
                      <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M6 7h15l-1.5 8.5H7.2L6 7z"></path>
                        <path d="M6 7l-1-3H2.5"></path>
                        <circle cx="9" cy="19" r="1.6"></circle>
                        <circle cx="17" cy="19" r="1.6"></circle>
                      </svg>
                    </span>
                    <span class="txt">CHECKOUT</span>
                  </button>
                </div>
              </div>

              <div class="grid-body">
                <div class="store-body-wrap">
                  <aside class="cat-tab" aria-label="Categories">
                    <button class="cat-btn is-active" type="button" data-jump="#sec-powder" aria-label="Powder">
                      <span class="cat-text"><span>P</span><span>O</span><span>W</span><span>D</span><span>E</span><span>R</span></span>
                    </button>
                    <button class="cat-btn" type="button" data-jump="#sec-merch" aria-label="Merch">
                      <span class="cat-text"><span>M</span><span>E</span><span>R</span><span>C</span><span>H</span></span>
                    </button>
                    <button class="cat-btn" type="button" data-jump="#sec-plants" aria-label="Plants">
                      <span class="cat-text"><span>P</span><span>L</span><span>A</span><span>N</span><span>T</span><span>S</span></span>
                    </button>
                  </aside>

                  <div class="store-content">
                    <div class="section-block" id="sec-powder" aria-label="Powder products">
                      <div class="product-grid" id="grid-powder"></div>
                    </div>
                    <div class="section-block" id="sec-merch" aria-label="Merch products">
                      <div class="product-grid" id="grid-merch"></div>
                    </div>
                    <div class="section-block" id="sec-plants" aria-label="Plant products">
                      <div class="product-grid" id="grid-plants"></div>
                    </div>
                  </div>

                </div>
              </div>

            </div>
          </section>

        </div>
      </div>

      <div class="thin-banner bottom"></div>
    </main>

    <footer aria-label="Footer">
      <div class="footer-wrap">
        <div class="footer-left" aria-label="Footer info">
          <img src="mayanut-the-mayanut-comapny-logo.png" class="footer-logo" alt="The MayaNut Company logo" width="116" height="116" decoding="async" />
          <div class="footer-text">
            <div class="based-line">
              <span>Started in South Florida</span>
              <img src="florida-image-the-maya-nut-company.png" class="florida-icon" alt="Florida" width="26" height="26" onerror="this.style.display='none';" decoding="async" loading="lazy" />
            </div>
            <div class="copyright-line">© 2026 The MayaNut Company, Inc.</div>
            <div class="footer-links" aria-label="Terms Privacy Sitemap">
              <a href="terms.html">Terms</a>
              <a href="privacy.html">Privacy</a>
              <a href="sitemap.html">Sitemap</a>
            </div>
          </div>
        </div>

        <div class="newsletter" id="newsletter" aria-label="Newsletter">
          <div class="nl-title">Sign Up for our Newsletter</div>
          <div class="nl-sub">Enter your email to receive updates and notifications about MayaNut products, research, and farm progress.</div>
          <form class="newsletter-form" id="newsletter-form" autocomplete="on">
            <input id="newsletter-email" type="email" name="email" placeholder="Enter your email" inputmode="email" autocomplete="email" required />
            <button class="metal-btn" type="submit">SUBSCRIBE</button>
          </form>
          <div class="footer-icons" aria-label="Social links">
            <a class="icon-pill" href="https://www.instagram.com/themayanutcompany" target="_blank" rel="noopener" aria-label="Instagram">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <rect x="3.5" y="3.5" width="17" height="17" rx="5"></rect>
                <circle cx="12" cy="12" r="4.2"></circle>
                <circle cx="17.3" cy="6.7" r="0.9"></circle>
              </svg>
            </a>
            <a class="icon-pill" href="https://x.com/mayanutcompany" target="_blank" rel="noopener" aria-label="X">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path class="fill" d="M18.9 3H21l-6.6 7.6L22 21h-6.2l-4.8-6.3L5.5 21H3.4l7.1-8.2L2 3h6.3l4.3 5.6L18.9 3zm-2.2 16h1.7L7.2 4.9H5.4L16.7 19z"/>
              </svg>
            </a>
            <a class="icon-pill" href="https://www.linkedin.com/in/the-mayanut-company-9186b13a3/" target="_blank" rel="noopener" aria-label="LinkedIn">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path class="fill" d="M6.94 6.5A2.2 2.2 0 1 1 6.94 2.1a2.2 2.2 0 0 1 0 4.4ZM3.9 21V8.3h6.1V21H3.9Zm7.8 0V8.3h5.8v1.8h.1c.8-1.4 2.3-2.3 4.2-2.3 4.5 0 5.3 2.9 5.3 6.6V21h-6.1v-5.6c0-1.3 0-3-2-3s-2.3 1.4-2.3 2.9V21h-5.0Z"/>
              </svg>
            </a>
          </div>
        </div>

      </div>
    </footer>
  </div>

  <!-- MODAL -->
  <div class="overlay" id="desc-overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Product description">
      <div class="modal-head">
        <div class="modal-title" id="modal-title">PRODUCT</div>
        <button class="modal-close" id="modal-close" type="button" aria-label="Close">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M6 6l12 12"></path>
            <path d="M18 6L6 18"></path>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <img id="modal-img" src="" alt="Product image" />
        <div class="modal-copy" id="modal-copy"></div>
      </div>
    </div>
  </div>

  <div id="variant-menu-root" style="position:fixed; inset:0; pointer-events:none; z-index:2500;"></div>

  <script>
    const $$ = (s, r=document)=> Array.from(r.querySelectorAll(s));
    const $  = (s, r=document)=> r.querySelector(s);

    (function(){
      function setStickyOffset(){
        const sticky = document.getElementById("sticky-top");
        if(!sticky) return;
        const h = Math.ceil(sticky.getBoundingClientRect().height);
        document.documentElement.style.setProperty("--stickyOffset", h + "px");
      }
      window.addEventListener("load", setStickyOffset, { once:true });
      window.addEventListener("resize", ()=>{ clearTimeout(window.__st); window.__st=setTimeout(setStickyOffset,80); });
      window.addEventListener("pageshow", setStickyOffset);
      document.addEventListener("DOMContentLoaded", setStickyOffset);
    })();

    (function(){
      const root = document.getElementById("variant-menu-root");
      let openMenu = null;

      function closeMenu(){
        if(!openMenu) return;
        openMenu.remove();
        openMenu = null;
      }

      window.__openVariantMenu = function(anchorEl, options, activeKey, onPick){
        closeMenu();
        const r = anchorEl.getBoundingClientRect();
        const menu = document.createElement("div");
        menu.className = "variant-menu";
        menu.style.pointerEvents = "auto";
        menu.style.position = "fixed";
        menu.style.left = Math.min(window.innerWidth - 220, Math.max(10, Math.round(r.left))) + "px";
        menu.style.top  = Math.min(window.innerHeight - 10, Math.round(r.bottom + 6)) + "px";

        options.forEach(opt=>{
          const row = document.createElement("div");
          row.className = "opt" + (opt.key === activeKey ? " is-active" : "");
          row.textContent = opt.label;
          row.addEventListener("click", ()=>{ onPick(opt.key); closeMenu(); });
          menu.appendChild(row);
        });

        root.appendChild(menu);
        openMenu = menu;
      };

      document.addEventListener("click",(e)=>{
        if(openMenu){
          const within = e.target.closest(".variant-menu");
          const anchor = e.target.closest("[data-variant-anchor]");
          if(!within && !anchor) closeMenu();
        }
      });
      document.addEventListener("keydown",(e)=>{ if(e.key==="Escape") closeMenu(); });

      const overlay = document.getElementById("desc-overlay");
      const closeBtn = document.getElementById("modal-close");

      window.__openDescModal = function(title, imgSrc, text){
        document.body.classList.add("modal-open");
        overlay.setAttribute("aria-hidden","false");
        document.getElementById("modal-title").textContent = String(title || "PRODUCT").toUpperCase();
        const mimg = document.getElementById("modal-img");
        mimg.src = imgSrc || "";
        mimg.alt = title || "Product image";
        document.getElementById("modal-copy").textContent = text || "";
      };

      function closeModal(){
        document.body.classList.remove("modal-open");
        overlay.setAttribute("aria-hidden","true");
      }

      closeBtn?.addEventListener("click", closeModal);
      overlay?.addEventListener("click",(e)=>{ if(e.target && e.target.id==="desc-overlay") closeModal(); });
      document.addEventListener("keydown",(e)=>{ if(e.key==="Escape") closeModal(); });
    })();

    (function(){
      document.querySelectorAll("[data-jump]").forEach(b=>{
        b.addEventListener("click", ()=>{
          const id = b.getAttribute("data-jump");
          const el = id ? document.querySelector(id) : null;
          if(el) el.scrollIntoView({ behavior:"smooth", block:"start" });
        });
      });
    })();

    (function(){
      const PRODUCTS = [
        { id:"powder", cat:"powder", title:"MayaNut Powder", img:"mayanut-powder-maya-nut-brosimum-alicastrum.png", desc:"Concept preview: roasted and ground MayaNut (maya nut) powder from Brosimum alicastrum.", tagline:"Flavorful powder, great for acai bowls", variant:{ label:"WEIGHT", defaultKey:"qtr", options:[ { key:"qtr", label:"1/4 LB", price:9.95 }, { key:"half", label:"1/2 LB", price:18.95 }, { key:"one", label:"1 LB", price:35.95 } ] } },
        { id:"pods", cat:"powder", title:"Instant MayaNut Pods", img:"mayanut-powder-maya-nut-brosimum-alicastrum.png", desc:"Concept preview: instant MayaNut pods for single-serve brewing.", tagline:"Enjoy a delicious beverage... NOW!", variant:{ label:"AMOUNT", defaultKey:"p25", options:[ { key:"p25", label:"25", price:29.95 }, { key:"p50", label:"50", price:49.95 }, { key:"p100", label:"100", price:89.95 } ] } },
        { id:"hat", cat:"merch", title:"MayaNut Hat", img:"mayanut-merch-hat-brosimum-alicastrum.png", desc:"Lookin' good, support us in style!", tagline:"", variant:{ label:"SIZE", defaultKey:"os", options:[ { key:"os", label:"OS", price:15.00 } ] } },
        { id:"shirt", cat:"merch", title:"MayaNut T-Shirt", img:"mayanut-merch-shirt-brosimum-alicastrum.png", desc:"MayaNut T-shirt for MayaNut lovers!", tagline:"", variant:{ label:"SIZE", defaultKey:"m", options:[ { key:"s", label:"S", price:18.00 }, { key:"m", label:"M", price:18.00 }, { key:"l", label:"L", price:18.00 }, { key:"xl", label:"XL", price:18.00 } ] } },
        { id:"hoodie", cat:"merch", title:"MayaNut Hoodie", img:"mayanut-merch-hoodie-brosimum-alicastrum.png", desc:"Stay warm like our trees!", tagline:"", variant:{ label:"SIZE", defaultKey:"m", options:[ { key:"s", label:"S", price:30.00 }, { key:"m", label:"M", price:30.00 }, { key:"l", label:"L", price:30.00 }, { key:"xl", label:"XL", price:30.00 } ] } },
        { id:"seedling", cat:"plants", title:"MayaNut Seedling", img:"maya-nut-mayanut-plant-tree-nursery.jpg", desc:"Seedlings will be shipped bareroot.", tagline:"", variant:{ label:"SIZE", defaultKey:"1gl", options:[ { key:"1gl", label:"1 GL", price:34.95 } ] } },
        { id:"seeds", cat:"plants", title:"MayaNut Seeds", img:"maya-nut-mayanut-fruit-brosimum-alicastrum.jpg", desc:"Seeds are water tested for improved viability.", tagline:"", variant:{ label:"PACK", defaultKey:"10pc", options:[ { key:"10pc", label:"10 PC", price:9.95 } ] } }
      ];

      const grids = {
        powder: document.getElementById("grid-powder"),
        merch:  document.getElementById("grid-merch"),
        plants: document.getElementById("grid-plants")
      };

      const badge = document.getElementById("cart-badge");
      let cartCount = 0;
      const setBadge = ()=> { if(badge) badge.textContent = String(cartCount); };

      const money = (n)=> Number(n||0).toLocaleString(undefined,{style:"currency",currency:"USD"});
      const norm = (s)=> String(s||"").toLowerCase().trim();

      function getVariantPrice(p, key){
        const v = p.variant.options.find(o=>o.key===key) || p.variant.options[0];
        return v.price;
      }
      function getVariantLabel(p, key){
        const v = p.variant.options.find(o=>o.key===key) || p.variant.options[0];
        return v.label;
      }

      function cardHTML(p){
        const baseKey = p.variant.defaultKey;
        const basePrice = getVariantPrice(p, baseKey);
        const baseLabel = getVariantLabel(p, baseKey);

        const safeDesc = (p.desc || "").replace(/"/g,"&quot;");
        const safeTag = (p.tagline || "").replace(/"/g,"&quot;");

        return `
          <div class="product-shell" data-shell data-id="${p.id}" data-title="${p.title}" data-img="${p.img}" data-desc="${safeDesc}" data-variant-key="${baseKey}">
            <article class="product-inner">
              <div class="prod-head"><div class="prod-title">${p.title}</div></div>
              <div class="pimg"><img src="${p.img}" alt="${p.title}" loading="lazy" decoding="async" data-open-desc /></div>
              <div class="pbot">
                <div class="click-inner">
                  <div class="row1">
                    <div class="price-inline" data-price>${money(basePrice)}</div>
                    <div class="variant-box" data-variant-anchor data-variant="${p.id}">
                      <div class="variant-left">${String(p.variant.label).toUpperCase()}</div>
                      <div class="variant-right">
                        <div class="variant-value" data-variant-value>${baseLabel}</div>
                        <svg class="variant-caret" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6"></path></svg>
                      </div>
                    </div>
                  </div>

                  <div class="row2">
                    <button class="addq" type="button" data-add>ADD</button>
                    <div class="qty-unified" aria-label="Quantity">
                      <button class="qty-btn" type="button" data-minus aria-label="Decrease">−</button>
                      <div class="qty-mid"><input class="qty-number" type="number" min="1" max="99" step="1" value="1" inputmode="numeric" aria-label="Quantity value" /></div>
                      <button class="qty-btn" type="button" data-plus aria-label="Increase">+</button>
                    </div>
                  </div>

                  ${safeTag ? `<div class="tagline">${safeTag}</div>` : ``}
                </div>
              </div>
            </article>
          </div>`;
      }

      function render(){
        grids.powder.innerHTML = PRODUCTS.filter(p=>p.cat==="powder").map(cardHTML).join("");
        grids.merch.innerHTML  = PRODUCTS.filter(p=>p.cat==="merch").map(cardHTML).join("");
        grids.plants.innerHTML = PRODUCTS.filter(p=>p.cat==="plants").map(cardHTML).join("");
      }

      function wireQty(){
        const clamp = (n)=> Math.max(1, Math.min(99, n));
        document.querySelectorAll(".product-shell").forEach(shell=>{
          const qty = shell.querySelector(".qty-number");
          const plus = shell.querySelector("[data-plus]");
          const minus = shell.querySelector("[data-minus]");
          if(!qty || !plus || !minus) return;
          const set = (v)=> qty.value = String(clamp(parseInt(v,10)||1));
          set(qty.value);
          qty.addEventListener("input", ()=> set(qty.value));
          qty.addEventListener("blur", ()=> set(qty.value));
          plus.addEventListener("click", ()=> set((parseInt(qty.value,10)||1)+1));
          minus.addEventListener("click", ()=> set((parseInt(qty.value,10)||1)-1));
        });
      }

      function wireAdd(){
        document.querySelectorAll("[data-add]").forEach(btn=>{
          btn.addEventListener("click", ()=>{
            const shell = btn.closest(".product-shell");
            const qtyEl = shell?.querySelector(".qty-number");
            const q = Math.max(1, Math.min(99, parseInt(qtyEl?.value||"1",10)||1));
            cartCount += q;
            setBadge();
          });
        });
      }

      function wireSearch(){
        const s = document.getElementById("store-search");
        const clear = document.getElementById("store-search-clear");
        function apply(){
          const q = norm(s.value);
          document.querySelectorAll(".product-shell").forEach(shell=>{
            const t = norm(shell.getAttribute("data-title")||"");
            shell.style.display = (!q || t.includes(q)) ? "" : "none";
          });
        }
        s.addEventListener("input", apply);
        clear.addEventListener("click", ()=>{ s.value=""; apply(); s.focus(); });
        apply();
      }

      function wireVariants(){
        document.querySelectorAll(".variant-box").forEach(box=>{
          const pid = box.getAttribute("data-variant");
          const p = PRODUCTS.find(x=>x.id===pid);
          if(!p || !p.variant) return;

          box.addEventListener("click",(e)=>{
            e.stopPropagation();
            const shell = box.closest(".product-shell");
            const activeKey = shell?.getAttribute("data-variant-key") || p.variant.defaultKey;

            window.__openVariantMenu?.(
              box,
              p.variant.options.map(o=>({ key:o.key, label:o.label })),
              activeKey,
              (newKey)=>{
                if(!shell) return;
                shell.setAttribute("data-variant-key", newKey);
                const newPrice = getVariantPrice(p, newKey);
                shell.querySelector("[data-price]").textContent = money(newPrice);
                shell.querySelector("[data-variant-value]").textContent = getVariantLabel(p, newKey);
              }
            );
          });
        });
      }

      function wireModal(){
        document.addEventListener("click",(e)=>{
          const img = e.target?.closest?.("[data-open-desc]");
          if(!img) return;
          const shell = img.closest(".product-shell");
          if(!shell) return;
          const title = shell.getAttribute("data-title")||"PRODUCT";
          const src = shell.getAttribute("data-img")||img.getAttribute("src")||"";
          const desc = shell.getAttribute("data-desc")||"";
          window.__openDescModal?.(String(title).toUpperCase(), src, desc);
        });
      }

      render();
      wireQty();
      wireAdd();
      wireSearch();
      wireVariants();
      wireModal();
      setBadge();

      document.getElementById("checkout-top")?.addEventListener("click", ()=> alert("Checkout is coming soon. Products on this page are currently conceptual while the store is under development."));

      document.getElementById("newsletter-form")?.addEventListener("submit",(e)=>{
        e.preventDefault();
        const email = document.getElementById("newsletter-email")?.value?.trim() || "";
        if(!email) return;
        alert("Subscribed (demo).");
        document.getElementById("newsletter-email").value = "";
      });
    })();
  </script>

  <script>
    /* Variant menu + modal system */
    (function(){
      const root = document.getElementById("variant-menu-root");
      let openMenu = null;

      function closeMenu(){
        if(!openMenu) return;
        openMenu.remove();
        openMenu = null;
      }

      window.__openVariantMenu = function(anchorEl, options, activeKey, onPick){
        closeMenu();
        const r = anchorEl.getBoundingClientRect();
        const menu = document.createElement("div");
        menu.className = "variant-menu";
        menu.style.pointerEvents = "auto";
        menu.style.position = "fixed";
        menu.style.left = Math.min(window.innerWidth - 220, Math.max(10, Math.round(r.left))) + "px";
        menu.style.top  = Math.min(window.innerHeight - 10, Math.round(r.bottom + 6)) + "px";

        options.forEach(opt=>{
          const row = document.createElement("div");
          row.className = "opt" + (opt.key === activeKey ? " is-active" : "");
          row.textContent = opt.label;
          row.addEventListener("click", ()=>{ onPick(opt.key); closeMenu(); });
          menu.appendChild(row);
        });

        root.appendChild(menu);
        openMenu = menu;
      };

      document.addEventListener("click",(e)=>{
        if(openMenu){
          const within = e.target.closest(".variant-menu");
          const anchor = e.target.closest("[data-variant-anchor]");
          if(!within && !anchor) closeMenu();
        }
      });
      document.addEventListener("keydown",(e)=>{ if(e.key==="Escape") closeMenu(); });

      const overlay = document.getElementById("desc-overlay");
      const closeBtn = document.getElementById("modal-close");

      window.__openDescModal = function(title, imgSrc, text){
        document.body.classList.add("modal-open");
        overlay.setAttribute("aria-hidden","false");
        document.getElementById("modal-title").textContent = String(title || "PRODUCT").toUpperCase();
        const mimg = document.getElementById("modal-img");
        mimg.src = imgSrc || "";
        mimg.alt = title || "Product image";
        document.getElementById("modal-copy").textContent = text || "";
      };

      function closeModal(){
        document.body.classList.remove("modal-open");
        overlay.setAttribute("aria-hidden","true");
      }

      closeBtn?.addEventListener("click", closeModal);
      overlay?.addEventListener("click",(e)=>{ if(e.target && e.target.id==="desc-overlay") closeModal(); });
      document.addEventListener("keydown",(e)=>{ if(e.key==="Escape") closeModal(); });
    })();
  </script>

  <script>
    /* Sticky offset */
    (function(){
      function setStickyOffset(){
        const sticky = document.getElementById("sticky-top");
        if(!sticky) return;
        const h = Math.ceil(sticky.getBoundingClientRect().height);
        document.documentElement.style.setProperty("--stickyOffset", h + "px");
      }
      window.addEventListener("load", setStickyOffset, { once:true });
      window.addEventListener("resize", ()=>{ clearTimeout(window.__st); window.__st=setTimeout(setStickyOffset,80); });
      window.addEventListener("pageshow", setStickyOffset);
      document.addEventListener("DOMContentLoaded", setStickyOffset);
    })();
  </script>
</head>
<body>
  <!-- NOTE: This file is complete above; duplicate body tags are not present. -->
</body>
</html>
