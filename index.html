<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Synthamate ‚Äì Never Feel Alone</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>

body {
  margin:0;
  font-family:sans-serif;
  background:linear-gradient(145deg,#0A1B3D,#274B87,#7DA6E8);
  background-size:300% 300%;
  animation:bgMove 12s ease infinite;
  user-select:none;
}
@keyframes bgMove {
  0%{background-position:0% 30%;}
  50%{background-position:100% 70%;}
  100%{background-position:0% 30%;}
}

.center-box {
  width:100%;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.option-container {
  display:flex;
  gap:40px;
}

.option-box {
  width:260px;
  height:160px;
  background:rgba(255,255,255,0.1);
  border:1px solid rgba(255,255,255,0.25);
  border-radius:18px;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:22px;
  color:white;
  cursor:pointer;
  transition:0.3s;
  backdrop-filter:blur(6px);
}

.option-box:hover {
  transform:scale(1.05);
  background:rgba(255,255,255,0.18);
}

.form-box {
  width:300px;
  padding:20px;
  background:rgba(255,255,255,0.12);
  border:1px solid rgba(255,255,255,0.22);
  backdrop-filter:blur(6px);
  border-radius:20px;
  display:flex;
  flex-direction:column;
  gap:10px;
  color:white;
}

input {
  width:100%;
  padding:10px;
  border-radius:12px;
  border:none;
  outline:none;
}

button {
  padding:10px;
  border:none;
  border-radius:12px;
  background:#fff;
  color:#003;
  font-weight:bold;
  cursor:pointer;
}

#world {
  width:100%;
  height:100vh;
  position:relative;
  overflow:hidden;
}

/* Room background colors */
#world.room-blue   { background:#0A1B3D; }
#world.room-yellow { background:#F7D664; }
#world.room-red    { background:#D14A4A; }
#world.room-green  { background:#2E7D4F; }

/* Humanoid avatar */
.avatar {
  width:40px;
  height:80px;
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  transition:top 0.5s ease,left 0.5s ease;
}

.avatar-head {
  width:24px;
  height:24px;
  border-radius:50%;
  background:#ffe8c6;
  box-shadow:0 0 0 2px rgba(0,0,0,0.15);
}

.avatar-body {
  width:30px;
  height:30px;
  background:#4AA8FF;
  border-radius:8px;
  margin-top:2px;
}

.avatar-legs {
  display:flex;
  gap:4px;
  margin-top:4px;
}

.avatar-leg {
  width:10px;
  height:22px;
  background:#333;
  border-radius:4px;
  transform-origin:top center;
}

/* Running animation */
@keyframes leg-swing-left {
  0%   { transform:rotate(20deg); }
  100% { transform:rotate(-20deg); }
}
@keyframes leg-swing-right {
  0%   { transform:rotate(-20deg); }
  100% { transform:rotate(20deg); }
}
.avatar.running .avatar-leg.left {
  animation:leg-swing-left 0.25s infinite alternate;
}
.avatar.running .avatar-leg.right {
  animation:leg-swing-right 0.25s infinite alternate;
}

/* Top buttons */
#ai-btn {
  position:absolute;
  top:10px;
  left:50%;
  transform:translateX(-50%);
  background:#FFE17A;
  padding:12px 20px;
  border-radius:20px;
  cursor:pointer;
  font-weight:bold;
  border:none;
}

/* Map button + menu */
#map-btn {
  position:absolute;
  top:10px;
  right:10px;
  width:44px;
  height:44px;
  border-radius:50%;
  border:none;
  background:rgba(255,255,255,0.9);
  cursor:pointer;
  font-size:20px;
}

#map-menu {
  position:absolute;
  top:60px;
  right:10px;
  background:rgba(0,0,0,0.8);
  color:white;
  border-radius:12px;
  padding:8px;
  display:none;
  min-width:140px;
}
#map-menu.open {
  display:block;
}
.map-room {
  padding:6px 10px;
  border-radius:8px;
  cursor:pointer;
  font-size:14px;
  margin-bottom:4px;
}
.map-room:last-child {
  margin-bottom:0;
}
.map-room:hover {
  background:rgba(255,255,255,0.12);
}

/* So clicks on UI don‚Äôt move avatar */
.ui-layer {
  pointer-events:auto;
}
</style>
</head>
<body>

<div id="app"></div>

<script>
const app = document.getElementById("app");
let avatar;
let runTimeout = null;

function showMenu(){
  app.innerHTML = `
  <div class="center-box">
    <div class="option-container">
      <div class="option-box" onclick="showSignup()">New User</div>
      <div class="option-box" onclick="showLogin()">Returning User</div>
    </div>
  </div>
  `;
}

function showSignup(){
  app.innerHTML = `
  <div class="center-box">
    <div class="form-box">
      <h3>Create Account</h3>
      <input id="name" placeholder="Username">
      <input id="email" placeholder="Email">
      <button onclick="enterWorld(true)">Join</button>
    </div>
  </div>
  `;
}

function showLogin(){
  app.innerHTML = `
  <div class="center-box">
    <div class="form-box">
      <h3>Welcome Back</h3>
      <input id="name" placeholder="Username">
      <button onclick="enterWorld(false)">Enter</button>
    </div>
  </div>
  `;
}

function enterWorld(isNew){
  let name = document.getElementById("name").value;
  if (!name) return alert("Enter a name!");
  localStorage.setItem("synthamateUser",name);

  app.innerHTML = `
  <div id="world" class="room-blue">
    <button id="ai-btn" class="ui-layer">Talk to Synthamate</button>
    <button id="map-btn" class="ui-layer">üó∫Ô∏è</button>
    <div id="map-menu">
      <div class="map-room" data-room="blue">Blue Plaza</div>
      <div class="map-room" data-room="yellow">Sunny Deck</div>
      <div class="map-room" data-room="red">Red Arcade</div>
      <div class="map-room" data-room="green">Green Garden</div>
    </div>
    <div class="avatar" id="avatar">
      <div class="avatar-head"></div>
      <div class="avatar-body"></div>
      <div class="avatar-legs">
        <div class="avatar-leg left"></div>
        <div class="avatar-leg right"></div>
      </div>
    </div>
  </div>
  `;

  const world = document.getElementById("world");
  avatar = document.getElementById("avatar");
  const mapBtn = document.getElementById("map-btn");
  const mapMenu = document.getElementById("map-menu");
  const aiBtn = document.getElementById("ai-btn");

  // Click-to-move (only if clicking the world background)
  world.addEventListener("click", e => {
    if (e.target !== world) return; // ignore clicks on UI / avatar
    const rect = world.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;

    avatar.style.left = x + "px";
    avatar.style.top = y + "px";

    // Start running animation
    avatar.classList.add("running");
    if (runTimeout) clearTimeout(runTimeout);
    runTimeout = setTimeout(() => {
      avatar.classList.remove("running");
    }, 520); // slightly longer than CSS transition
  });

  aiBtn.addEventListener("click", () => {
    alert("AI chat coming soon üî•");
  });

  // Map button toggle
  mapBtn.addEventListener("click", e => {
    e.stopPropagation();
    mapMenu.classList.toggle("open");
  });

  // Map room selection
  mapMenu.querySelectorAll(".map-room").forEach(roomBtn => {
    roomBtn.addEventListener("click", e => {
      const room = e.currentTarget.getAttribute("data-room");
      world.classList.remove("room-blue","room-yellow","room-red","room-green");
      world.classList.add("room-" + room);
      mapMenu.classList.remove("open");
    });
  });
}

showMenu();
</script>
</body>
</html>
